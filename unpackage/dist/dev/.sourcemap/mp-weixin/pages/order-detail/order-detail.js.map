{"version":3,"sources":["webpack:///D:/Workspance/HBuilderProjects/uni-app-mango-diancan/main.js","webpack:///D:/Workspance/HBuilderProjects/uni-app-mango-diancan/pages/order-detail/order-detail.vue?caa6","webpack:///D:/Workspance/HBuilderProjects/uni-app-mango-diancan/pages/order-detail/order-detail.vue?d9fd","webpack:///D:/Workspance/HBuilderProjects/uni-app-mango-diancan/pages/order-detail/order-detail.vue?6ecf","webpack:///D:/Workspance/HBuilderProjects/uni-app-mango-diancan/pages/order-detail/order-detail.vue?3324","webpack:///D:/Workspance/HBuilderProjects/uni-app-mango-diancan/pages/order-detail/order-detail.vue"],"names":["createPage","Page","timer","components","orderListItem","uniListItem","price","card","commonButton","data","id","no","address","detail","name","phone","total_price","remark","paid_time","payment_method","payment_no","refund_status","ship_status","extra","create_time","update_time","reviewed","order_items","end_time","timeDown","orderStatus","computed","p","forEach","item","pprice","num","toFixed","status","$U","formatStatus","refundStatus","timeDownText","msg","onLoad","e","uni","showToast","title","icon","navigateBack","delta","onUnload","clearInterval","onShow","getData","methods","openTimeDown","setInterval","now","Date","getTime","switchTab","url","$T","$H","get","token","then","res","updateTime","totalPrice","paidTime","paymentMethod","paymentNo","shipStatus","createTime","orderItems","map","v","productId","cover","product","productPrice","productNum","desci","openLogistics","navigateTo","JSON","stringify","openPayMethods","finish","showModal","content","success","confirm","showLoading","mask","post","hideLoading","$emit","catch","err","closeOrder","applyRefund","received"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,iH;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;;;AAG3D;AACoL;AACpL,gBAAgB,2LAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACzCf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8rB,CAAgB,4rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4FltB,yF,8FA5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIC,KAAK,GAAG,IAAZ,C,8rCAOe,EACdC,UAAU,EAAE,EACXC,aAAa,EAAbA,aADW,EAEXC,WAAW,EAAXA,WAFW,EAGXC,KAAK,EAALA,KAHW,EAIXC,IAAI,EAAJA,IAJW,EAKX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","file":"pages/order-detail/order-detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/order-detail/order-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order-detail.vue?vue&type=template&id=c4ba589e&\"\nvar renderjs\nimport script from \"./order-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./order-detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('c4ba589e')) {\n      api.createRecord('c4ba589e', component.options)\n    } else {\n      api.reload('c4ba589e', component.options)\n    }\n    module.hot.accept(\"./order-detail.vue?vue&type=template&id=c4ba589e&\", function () {\n      api.rerender('c4ba589e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Workspance/HBuilderProjects/uni-app-mango-diancan/pages/order-detail/order-detail.vue\"\nexport default component.exports","export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-detail.vue?vue&type=template&id=c4ba589e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar timer = null;\nimport orderListItem from \"@/components/order/order-list-item.vue\"\nimport uniListItem from \"@/components/uni-ui/uni-list-item/uni-list-item.vue\"\nimport price from '@/components/common/price.vue';\nimport card from '@/components/common/card.vue';\nimport $T from '@/common/lib/time.js'\nimport commonButton from '@/components/common/common-button.vue';\nexport default {\n\tcomponents: {\n\t\torderListItem,\n\t\tuniListItem,\n\t\tprice,\n\t\tcard,\n\t\tcommonButton\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tid: \"\",\n\t\t\tno: \"\",\n\t\t\taddress: {\n\t\t\t\taddress: \"\",\n\t\t\t\tdetail: \"\",\n\t\t\t\tname: \"\",\n\t\t\t\tphone: \"\",\n\t\t\t},\n\t\t\ttotal_price: 0,\n\t\t\tremark: \"\",\n\t\t\tpaid_time: null,\n\t\t\tpayment_method: \"\",\n\t\t\tpayment_no: \"\",\n\t\t\trefund_status: \"pending\",\n\t\t\tship_status: \"\",\n\t\t\textra: null,\n\t\t\tcreate_time: \"\",\n\t\t\tupdate_time: \"\",\n\t\t\treviewed: 0,\n\t\t\torder_items: [],\n\t\t\tend_time:0,\n\t\t\ttimeDown:'',\n\t\t\torderStatus:0\n\t\t}\n\t},\n\tcomputed: {\n\t\t// 商品总价\n\t\tprice(){\n\t\t\tlet p = 0\n\t\t\tthis.order_items.forEach(item=>{\n\t\t\t\tp += item.pprice * item.num\n\t\t\t})\n\t\t\treturn p.toFixed(2)\n\t\t},\n\t\t// 订单状态\n\t\tstatus(){\n\t\t\treturn this.$U.formatStatus({\n\t\t\t\tstatus:this.orderStatus,\n\t\t\t\trefundStatus:this.refund_status\n\t\t\t})\n\t\t},\n\t\ttimeDownText(){\n\t\t\tlet msg = ''\n\t\t\tswitch (this.status){\n\t\t\t\tcase '待支付':\n\t\t\t\tmsg = '取消'\n\t\t\t\t\tbreak;\n\t\t\t\tcase '待收货':\n\t\t\t\tmsg = '确认'\n\t\t\t\t\tbreak;\n\t\t\t\tcase '待发货':\n\t\t\t\treturn '等待商家发货'\n\t\t\t\t\tbreak;\n\t\t\t\tcase '退款中':\n\t\t\t\treturn '等待商家审核'\n\t\t\t\t\tbreak;\n\t\t\t\tcase '已完成':\n\t\t\t\treturn '订单已签收'\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t/*\n\t\t\tif(msg !== '' && this.timeDown !== ''){\n\t\t\t\treturn `还差 ${this.timeDown} 自动${msg}`\n\t\t\t} \n\t\t\t*/\n\t\t\treturn ''\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tif(!e.id){\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '订单不存在',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn uni.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t});\n\t\t}\n\t\tthis.id = e.id\n\t},\n\tonUnload() {\n\t\tif(timer){\n\t\t\tclearInterval(timer)\n\t\t}\n\t},\n\tonShow() {\n\t\t// 获取订单详情\n\t\tthis.getData()\n\t},\n\tmethods: {\n\t\t// 开启定时器\n\t\topenTimeDown(){\n\t\t\tif(this.status === '待支付' || this.status === '待收货'){\n\t\t\t\tif(timer){\n\t\t\t\t\tclearInterval(timer)\n\t\t\t\t}\n\t\t\t\ttimer = setInterval(()=>{\n\t\t\t\t\tlet now = (new Date().getTime())/1000\n\t\t\t\t\tif(now > this.end_time){\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl:\"../index/index\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: this.status === '待支付' ? '订单已关闭' : '订单已确认',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.timeDown = ''\n\t\t\t\t\t\treturn clearInterval(timer)\n\t\t\t\t\t}\n\t\t\t\t\tthis.timeDown = $T.timeDown(this.end_time)\n\t\t\t\t},1000)\n\t\t\t}\n\t\t},\n\t\tgetData(){\n\t\t\tthis.$H.get('/order/order/get/'+this.id,{},{\n\t\t\t\ttoken:true\n\t\t\t}).then(res=>{\n\t\t\t\t//console.log(res);\n\t\t\t\tthis.end_time = res.updateTime ? res.updateTime : 0\n\t\t\t\tthis.no = res.no\n\t\t\t\tthis.address = res.address\n\t\t\t\tthis.total_price= res.totalPrice\n\t\t\t\tthis.remark= res.remark\n\t\t\t\tthis.paid_time= res.paidTime\n\t\t\t\tthis.payment_method= res.paymentMethod\n\t\t\t\tthis.payment_no= res.paymentNo\n\t\t\t\tthis.refund_status = res.refundStatus\n\t\t\t\tthis.ship_status= res.shipStatus\n\t\t\t\tthis.extra= res.extra\n\t\t\t\tthis.create_time= res.createTime\n\t\t\t\tthis.update_time= res.updateTime\n\t\t\t\tthis.reviewed= res.reviewed\n\t\t\t\tthis.orderStatus= res.status\n\t\t\t\t// 整理商品列表数据\n\t\t\t\tlet order_items = res.orderItems.map(v=>{\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid:v.productId,\n\t\t\t\t\t\tproductId:v.productId,\n\t\t\t\t\t\tcover:v.product.cover,\n\t\t\t\t\t\ttitle:v.product.title,\n\t\t\t\t\t\tpprice:v.productPrice,\n\t\t\t\t\t\tnum:v.productNum,\n\t\t\t\t\t\tdesci:v.product.desci\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// 开启定时器\n\t\t\t\tthis.openTimeDown()\n\t\t\t\tthis.order_items= order_items\n\t\t\t\t \n\t\t\t})\n\t\t},\n\t\topenLogistics(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/logistics-detail/logistics-detail?detail='+JSON.stringify({\n\t\t\t\t\tid:this.id\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t// 去支付\n\t\topenPayMethods(){\n\t\t\t// 跳转到支付页面\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/pay-methods/pay-methods?detail='+JSON.stringify({\n\t\t\t\t\tid:this.id,\n\t\t\t\t\tprice:this.total_price\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\tfinish(){\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '是否要完成该订单？',\n\t\t\t\tsuccess: (res)=>{\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '完成订单中...',\n\t\t\t\t\t\t\tmask: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.$H.post('/order/order/finish/'+this.id,{},{\n\t\t\t\t\t\t\ttoken:true\n\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '完成订单成功',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.$emit('update')\n\t\t\t\t\t\t}).catch(err=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 取消订单\n\t\tcloseOrder(){\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '是否要取消该订单？',\n\t\t\t\tsuccess: (res)=>{\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '取消订单中...',\n\t\t\t\t\t\t\tmask: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.$H.post('/order/order/close/'+this.id,{},{\n\t\t\t\t\t\t\ttoken:true\n\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '取消订单成功',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.$emit('update')\n\t\t\t\t\t\t}).catch(err=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 申请退款\n\t\tapplyRefund(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/order-refund/order-refund?detail='+JSON.stringify({\n\t\t\t\t\tid:this.id\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t// 确认收货\n\t\treceived(){\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '是否要确认收货？',\n\t\t\t\tsuccess:  (res)=> {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '确认收货中...',\n\t\t\t\t\t\t\tmask: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.$H.get('/order/order/received/'+this.item.id,{},{\n\t\t\t\t\t\t\ttoken:true\n\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '确认收货成功',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.$emit('update')\n\t\t\t\t\t\t}).catch(err=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n"],"sourceRoot":""}